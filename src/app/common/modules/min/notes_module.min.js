angular.module("NoteWrangler.models.notes",[]).service("NotesModel",function(e,t){function n(e){return e.data}function o(e){return r=n(e)}var r,i,u=this,f={FETCH:"app/data/notes.json"};u.getNotes=function(){return r?t.when(r):e.get(f.FETCH).then(o)},u.setCurrentNote=function(e){return u.getNoteById(e).then(function(e){i=e})},u.getCurrentNoteTitle=function(){return i?i.title:""},u.getNoteById=function(e){function n(){return _.find(r,function(t){return t.id==e})}var o=t.defer();return r?o.resolve(n()):u.getNotes().then(function(){o.resolve(n())}),o.promise},u.updateNote=function(e){var t=_.findIndex(r,function(t){return t.id==e.id});r[t]=e},u.deleteBookmark=function(e){var t=_.filter(r,function(t){return t.id===e.id});if(t){var n=_.indexOf(r,e);r.splice(n,1)}},u.createNote=function(e){e.id=r.length+1,console.log(e.id),r.push(e)}});